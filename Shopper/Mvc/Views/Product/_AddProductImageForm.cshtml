@using IdentityServer4.Extensions
@model Shopper.Mvc.ViewModels.ImagesUploadModel;
@{
    var imageLabel = !Model.CurrentImageName.IsNullOrEmpty() ? "Change main image" : "Choose main image";
    var imageName = !Model.CurrentImageName.IsNullOrEmpty() ? Model.CurrentImageName : "Choose main image";
}
<div class="form-group" id="images">
    <fieldset>
        <legend>@imageLabel</legend>
        <div class="custom-file">
            <th:input asp-for="MainImage" class="custom-file-input" id="exampleInputFile"></th:input>
            <label class="custom-file-label" for="exampleInputFile">@imageName</label>
        </div>
    </fieldset>
</div>
@{
    var totalImages = Model.ImagesCount;
}
@if (totalImages > 0)
{
    <fieldset>
        <legend>Other Images</legend>
        @for (var i = 1; i <= totalImages; i++)
        {
            var id = "exampleInputFile-" + i;
            var imageNumber = 4 - (totalImages - i);
            <div class="form-group">
                @* <div class="input-group"> *@
                <label for="@id">Image @imageNumber</label>
                <div class="custom-file">
                    <th:input asp-for="Images" class="custom-file-input" id=@id></th:input>
                    <label class="custom-file-label" for=@id>Choose image</label>
                </div>
                @* </div> *@
            </div>
        }
    </fieldset>
}

@*<div id="images-zone">
    <div id="actions" class="row">
        <div class="col-lg-6">
            <div class="btn-group w-100">
                <span class="btn btn-success col fileinput-button">
                    <i class="fas fa-plus"></i>
                    <span>Add files</span>
                </span>
                <button type="reset" class="btn btn-warning col cancel">
                    <i class="fas fa-times-circle"></i>
                    <span>Cancel upload</span>
                </button>
            </div>
        </div>
        <div class="col-lg-6 d-flex align-items-center">
            <div class="fileupload-process w-100">
                <div id="total-progress" class="progress progress-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                    <div class="progress-bar progress-bar-success" style="width:0%;" data-dz-uploadprogress></div>
                </div>
            </div>
        </div>
    </div>
    <div class="table table-striped files" id="previews">
        <div id="template" class="row mt-2">
            <div class="col-auto">
                <span class="preview">
                    <img src="data:," alt="" data-dz-thumbnail/>
                </span>
            </div>
            <div class="col d-flex align-items-center">
                <p class="mb-0">
                    <span class="lead" data-dz-name></span>
                    (<span data-dz-size></span>)
                </p>
            </div>
            <div class="col-auto d-flex align-items-center">
                <div class="btn-group">
                    <button data-dz-remove class="btn btn-danger delete">
                        <i class="fas fa-trash"></i>
                        <span>Delete</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>*@

<div class="form-group col-12 text-right">
    <button type="submit" class="btn btn-primary" name="button">Submit</button>
</div>
